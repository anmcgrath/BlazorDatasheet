@inherits BaseEditor<string>
@using BlazorDatasheet.Interfaces
@using BlazorDatasheet.Util

<input
    type="text"
    class="text-input"
    @bind="EditedValue"
    @bind:event="oninput"
    style="@CssUtil.GetStyledInput(Cell)"
    @ref="InputRef"/>

@code {

    private IReadOnlyCell Cell;

    public override void BeginEdit(EditEntryMode entryMode, IReadOnlyCell cell, string key)
    {
        if (cell.HasFormula())
            EditedValue = cell.FormulaString;
        else
            EditedValue = cell.GetValue<string>();
        
        if (EditedValue == null)
            EditedValue = string.Empty;

        if (entryMode == EditEntryMode.Key && !String.IsNullOrEmpty(key) && key.Length == 1)
        {
            EditedValue = key;
        }
        EditedValue = EditedValue;
    }

}